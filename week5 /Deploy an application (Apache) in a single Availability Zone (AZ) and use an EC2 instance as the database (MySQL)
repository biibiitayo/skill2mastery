Deploy an application (Apache) in a single Availability Zone (AZ) and use an EC2 instance as the database (MySQL)

Development VPC.


 

Installing an EC2 instance in a public and private subnet using Ubuntu .
 
 
The dev-web was deployed in public subnet so it has public internet for user access.

 

The security group for the dev-web EC2 instance allows incoming HTTP/HTTPS traffic (ports 80/443) from the internet.

Dev-db is placed in the private subnet with no public IP.	

 
The security group for the dev-db only allows incoming connections from the dev-web security group, not from the public internet.
Configure Database EC2 Instance
•	SSH into the dev-db EC2 instance: from the dev-web EC2
Installing mysql
sudo apt-get install mysql-server -y
sudo service mysql start
sudo mysql_secure_installation
 
 
Login to MySql as a root
Sudo mysql
Update the password for the MySql Server
ALTER USER’root@’localhost’ IDENTIFIED WITH mysql native password BY ‘Farah@123’;
FLUSH PRIVILEGES;
Test the MySql server if it is working by running sample sql queries
CREATE DATABASE mysql_fa;
USE mysql_fa;
CREATE TABLE table1 (id INT, name VARCHAR(45));
INSERT INTO table1 VALUES91, ‘Faizal’), (2, ‘Faeezah’), (3, ‘Farah’), (4, ‘AyoTayo’);
SELECT * FROM table1;

 

 

Installing Apache into the dev- web public subnet.
sudo apt-get install apache2 -y
sudo systemctl start apache2
sudo systemctl enable apache2
sudo systemctl status apache2

 


 


 

Using the public IP.


Using domain: web.bbtlab.org
 







